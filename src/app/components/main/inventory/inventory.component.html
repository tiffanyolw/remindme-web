<p *ngIf="showErrorAlert">
    <ngb-alert type="danger" [dismissible]="false">
        <strong>Error!</strong> Could not load products.
    </ngb-alert>
</p>
<p *ngIf="showDeleteError">
    <ngb-alert type="danger" [dismissible]="false">
        <strong>Error!</strong> Could not delete product.
    </ngb-alert>
</p>

<div *ngIf="!showErrorAlert && productsList && expiredList">
    <button class="btn" routerLink="add-product">
        Add a Product
    </button>

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Product</th>
                <th scope="col">Quantity</th>
                <th scope="col">Category</th>
                <th scope="col">Location</th>
                <th scope="col">Notes</th>
                <th scope="col">Expiry Date</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let product of productsList">
                <th scope="row">{{ product.name }}</th>
                <td>{{ getQuantity(product) }}</td>
                <td>{{ product.category?.name }}</td>
                <td>{{ product.locationStored?.name }}</td>
                <td>{{ product.notes }}</td>
                <td>{{ product.expiryDate | date:"MMM dd, yyyy":"+0000"}}</td>
                <td>
                    <button class="btn" [routerLink]="['edit-product', product.id]">
                        Edit
                    </button>
                    <button class="btn delete-btn" (click)="onDelete(product)">
                        Delete
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>